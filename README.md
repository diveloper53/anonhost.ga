# AnonHost.ga - По настоящему анонимный хостинг

## Описание

--------------------------------------------------

__AnonHost - это по настоящему анонимный хостинг, не требующий затрат и регистрации с подтверждением личности. Также AnonHost имеет полностью открытый исходный код на GitHub!__

__Мы предлагаем бесплатные, анонимные, временные хостинги на срок до полугода! Вам нужно лишь нажать на кнопку ниже и выгрузить ваш сайт/скрипт через встроенный файловый менеджер!__

__Увы, мы не можем предложить таких же больших возможностей как хост-провайдеры требующие подтверждение личности и оплату за хост. Однако, где найти лучшее место для размещения временных PHP скриптов и "временных" сайтов?__

> _*Разработчики сервиса не несут какой либо ответственности за методы его использования или сохранность данных на нём! Хостинг предназначен исключительно для тестирования сайтов и размещения небольших скриптов. "Анонимным" хостинг назван лишь из-за отсутствия метрик и трекеров! Данный сервис не предназначен для противозаконных действий со стороны пользователя. На хостинге запрещается размещать любые противозаконные данные и он не должен служить для противозаконных действий! Любые противозаконные данные будут удалены при первом обнаружении._

## Доп. информация

> AnonHost.ga __не__ имеет системы аккаунтов. Вместо нее используется система __анонов__ _("Anon" - сокр. от англ. Anonymous)_, данная система создает случайные логины и пароли для аккаунта и никак не привязывается к конкретному человеку. Также, согласно данной системе, относительно пользователя стоящего за __аноном__ не должна собираться __никакая__ информация без крайней на то необходимости (в том числе, IP адрес и лог действий конкретного пользователя).

## Релизы и коммиты

--------------------------------------------------

Релизы для репозиториев diveloper53/anonhost.ga и diveloper53/api.anonhost.ga осуществляются на соответствующим им сайтам (что логично):

Для __diveloper53/anonhost.ga__ (этот репозиторий) это __<https://anonhost.ga>__

и, соответственно, для __diveloper53/api.anonhost.ga__ это __<https://api.anonhost.ga>__.

--------------------------------------------------

- Релизы и проверка накопившихся коммитов осуществляются когда накопиться достаточно много коммитов, или когда пройдёт много времени с последнего непроверенного коммита, или когда будет обнаружена критическая уязвимость/критический баг, либо по "моему велению и моему хотению".

- Перед тем как выпустить новую релизную версию, все нововведения и изменения будут тщательно проверены на новые уязвимости/баги на локальном сервере и отвергнуты/видоизменены в случаи нахождения таковых.

- Если вы вносите изменения в обоих репозиториях (diveloper53/anonhost.ga и diveloper53/api.anonhost.ga), пожалуйста, укажите какие коммиты связаны с какими чтобы мне было проще их искать. Заранее спасибо!

## Нюансы

--------------------------------------------------

1. На данный момент AnonHost.ga требует наличие включенного JavaScript в браузере. Без него ничего не работает, поэтому в случаи NoScript вверху страницы показывается сообщение о просьбе включить JavaScript в браузере.

```html
<noscript>
    <center>
        <b>
            Увы, пока-что данный сервис работает по большей части на JavaScript, и не может взаимодействовать с API без нег
            <br/>
            Пожалуйста включите JS в настройках браузера, обещаем что мы не будем собирать ваши данные с помощью трекеров =)
        </b>
        <br/><br/>
        Вы также можете помочь нам с разработкой и исправить данную недоработку на GitHub:<br/>
        <a href="https://github.com/diveloper53/anonhost.ga">https://github.com/diveloper53/anonhost.ga</a> |
        <a href="https://github.com/diveloper53/api.anonhost.ga">https://github.com/diveloper53/api.anonhost.ga</a>
    </center>
    <hr/>
</noscript>
```

2. На данный момент если зайти напрямую на __<https://anonhost.ga/panel/>__ то мы увидим пытающуюся загрузиться страницу панели управления, после чего сообщение об истёкшем хостинге после этого и ошибке API __check-host.php [3]__: _"Anon not found."_ (было бы неплохо сделать редирект на главную страницу _("<https://anonhost.ga/>")_)

3. На данный момент панель управления _(<https://anonhost.ga/panel>)_ не имеет адаптивного интерфейса под маленькие экраны и мобильные устройства.

4. На данный момент AnonHost.ga размещается на дешёвом хостинге который в свою очередь размещается на дешевом VPS сервере. Другими словами: AnonHost.ga это хостинг, размещающейся на хостинге, который размещается на другой хостинге (VPS сервере). Звучит бредово, но это так :/

5. На данный момент по ограничениям здравого смысла мы можем предоставлять хостинги на срок не более 6 месяцев (если принимать 1 месяц за 30 дней). На самом деле никакие ограничения не мешают давать хостинг на больший срок, однако, нужно же оставить пространство для иллюзии продвижения и роста AnonHost.ga :)

## Лицензия

Репозитории __diveloper53/anonhost.ga__ и __diveloper53/api.anonhost.ga__ и сопутствующий им исходный код сайтов __<https://anonhost.ga>__ и __<https://api.anonhost.ga>__ распространяются соответствуя лицензии _GNU General Public License v3.0 (см. <https://www.gnu.org/licenses/gpl-3.0.html> и <https://ru.wikipedia.org/wiki/GNU_General_Public_License>)._

## Информация для разработчиков

--------------------------------------------------

### Структура сайтов (anonhost.ga, api.anonhost.ga и st.anonhost.ga)

Все 3 сайта расположены в одной директории и могут обращаться друг к другу по средством пути на подобии _"../st.anonhost.ga"_.

- __anonhost.ga__ - основной сайт, содержащий пользовательский интерфейс, взаимодействующий с API;
- __api.anonhost.ga__ - API, управляющий анонами на сервере и позволяющий управлять (загружать, удалять, редактировать) файлами на _st.anonhost.ga_;
- __st.anonhost.ga__ - содержит файлы, загруженные пользователями сервиса _AnonHost.ga_ _(st - сокр. от англ. storage)_.

### Файлы

#### Общая информация

AnonHost.ga имеет лишь 2 HTML страницы, 3 CSS стиля и 2 JS скрипта.

Изображения для AnonHost.ga (.png, .jpg и т. д.) находятся в директории _"/images/"_, а иконки (.svg) в директории _"/icons/"_.

#### HTML страницы

- Первая страница - главная (домашняя, _"/index.html"_);
- Вторая, соответственно - панель управления _("/panel/index.html")_.

#### CSS стили

Все стили расположены в директории _"/css/"_:

- main-page.css отвечает за главную (домашнюю, _"/index.html"_) страницу;
- popup-window.css отвечает за всплывающие окна на главной (домашней, _"/index.html"_) странице;
- control-panel.css отвечает за страницу _"/panel/index.html"_.

#### JS скрипты

Все скрипты расположены в директории _"/js/"_:

- popup-window.js отвечает за главную (домашнюю, _"/index.html"_) страницу и всплывающее окно на ней;
- control-panel.js отвечает за панель управления (_"/panel/index.html"_).

#### AnonHost API

##### Информация об API

AnonHost API находится по адресу __<https://api.anonhost.ga>__, а исходный код доступен в отдельном репозитории: __<https://diveloper53/api.anonhost.ga>__

AnonHost API всегда отвечает в формате JSON с 2 и более аргументами. Ответ всегда содержит поля __[status]__ _(код ошибки, [0] если все ошибок не обнаружено)_ и __[message]__ _(сообщение об ошибке которое можно показать пользователю, ["ok"] если ошибок не обнаружено)_. В некоторых случаях ответ может содержать более 2 полей _(см. документацию к методам ниже)_.

##### Методы API

--------------------------------------------------

###### register-host.php

_Регистрирует хостинг на указанный срок._

__Список аргументов:__

1. __time__ - _срок для регистрации хостинга в днях (макс. 180)._

__Ответы сервера:__

1. JSON: `[status] => 0, [message] => "ok", [login] => [ЛОГИН], [password] => [ПАРОЛЬ], [time] => [ВРЕМЯ]`, где __[ЛОГИН]__ - логин пользователя, который необходимо использовать в дальнейшем для взаимодействия с API, __[ПАРОЛЬ]__ - пароль пользователя, который необходимо использовать в дальнейшем для взаимодействия с API, а __[ВРЕМЯ]__ - точные дата и время в формате _UNIX_, после которых хостинг перестанет быть действительным и будет удален. Означает, что хостинг успешно создан и сервер готов выполнять дальнейшие действия с файлами на нём, используйте полученный логин и пароль пользователя чтобы взаимодействовать с API в дальнейшем.;

2. JSON: `[status] => 1, [message] => "You forgot to set a value for the [time]!"`. Означает, что вы забыли указать аргумент [time] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/register-host.php?time=1>"_ чтобы указать аргумент [time] при GET запросе на сервер;

3. JSON: `[status] => 2, [message]" => "[time] cannot be less then 0!"`. Означает, что вы указали значение для аргумента [time] меньше или равное нулю, например _[-1]_ вместо _[1]_;

4. JSON: `[status] => 3, [message]" => "We provide hosting up to 180 days! Not more!"`. Означает, что вы указали значение для аргумента [time] больше 180 дней. На данный момент мы предоставляем хостинги не более чем на 6 месяцев (180 дней), по этой причине вы не можете зарегистрировать хостинг более чем на 180 дней.

--------------------------------------------------

###### check-host.php

_Позволяет проверить/обновить информацию об хостинге._

__Список аргументов:__

1. __login__ - _Полученный логин пользователя (см. register-host.php);_
2. __password__ - _Полученный пароль пользователя (см. register-host.php)._

__Ответы сервера:__

1. JSON: `[status] => 0, [message] => "ok", [time] => [ВРЕМЯ]`, где __[ВРЕМЯ]__ - точные дата и время в формате _UNIX_, после которых хостинг перестанет быть действительным и будет удален. Означает, что хостинг всё еще активен и может использоваться для дальнейшего взаимодействия с API;

2. JSON: `[status] => 1, [message] => "You forgot to set a value for the [login]!"`. Означает, что вы забыли указать аргумент [login] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/check-host.php?login=ЛОГИН&password=ПАРОЛЬ>"_ чтобы указать аргументы [login] и [password] при GET запросе на сервер;

3. JSON: `[status] => 2, [message] => "You forgot to set a value for the [password]!"`. Означает, что вы забыли указать аргумент [password] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/check-host.php?login=ЛОГИН&password=ПАРОЛЬ>"_ чтобы указать аргументы [login] и [password] при GET запросе на сервер;

4. JSON: `[status] => 3, [message]" => "Anon not found."`. Означает, что файл содержащий информацию об аноне не был найден. Другими словами - логин и пароль неверны, либо анон был удален в связи с истёкшим сроком хостинга;

5. JSON: `[status] => 4, [message]" => "The data is corrupted. Please register new hosting."`. Означает, что файл содержащий информацию об аноне был найден, но информация в нём повреждена или имеет неверный формат. Возможно, это связано с частичной утерей данных на сервере или обновлением API, в связи с которым был введён новый формат хранения информации об аноне. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

6. JSON: `[status] => 5, [message]" => "Wrong login or password."`. Означает, что указанный вами логин или пароль не соответствует обнаруженному в файле;

7. JSON: `[status] => 6, [message]" => "Hosting data is out of date. Please register new hosting"`. Означает, что файл содержащий информацию об аноне был найден, но срок действия хостинга уже истёк и все данные на нём скоро будут удалены. В таком случаи, пожалуйста, зарегистрируйте новый хостинг.

--------------------------------------------------

###### get-files.php

_Позволяет получить список файлов и папок из какой либо директории хостинга._

__Список аргументов:__

1. __login__ - _Полученный логин пользователя (см. register-host.php);_
2. __password__ - _Полученный пароль пользователя (см. register-host.php);_
3. __path__ - _Путь к директории относительно директории пользователя, "." и ".." не поддерживаются._

__Ответы сервера:__

1. JSON: `[status] => 0, [message] => "ok", [content] => [СОДЕРЖИМОЕ], [isdir] => [ПАПКИ]`, где __[СОДЕРЖИМОЕ]__ - массив из имен найденных по указанному пути файлов и директорий, а __[ПАПКИ]__ в свою очередь массив из bool указывающих на то, является элемент файлом или директорий (true - директория, false - файл);

2. JSON: `[status] => 1, [message] => "You forgot to set a value for the [login]!"`. Означает, что вы забыли указать аргумент [login] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/get-files.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер;

3. JSON: `[status] => 2, [message] => "You forgot to set a value for the [password]!"`. Означает, что вы забыли указать аргумент [password] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/get-files.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер;

4. JSON: `[status] => 3, [message]" => "Anon not found."`. Означает, что файл содержащий информацию об аноне не был найден. Другими словами - логин и пароль неверны, либо анон был удален в связи с истёкшим сроком хостинга;

5. JSON: `[status] => 4, [message]" => "The data is corrupted. Please register new hosting."`. Означает, что файл содержащий информацию об аноне был найден, но информация в нём повреждена или имеет неверный формат. Возможно, это связано с частичной утерей данных на сервере или обновлением API, в связи с которым был введён новый формат хранения информации об аноне. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

6. JSON: `[status] => 5, [message]" => "Wrong login or password."`. Означает, что указанный вами логин или пароль не соответствует обнаруженному в файле;

7. JSON: `[status] => 6, [message]" => "Hosting data is out of date. Please register new hosting"`. Означает, что файл содержащий информацию об аноне был найден, но срок действия хостинга уже истёк и все данные на нём скоро будут удалены. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

8. JSON: `[status] => 7, [message] => "You forgot to set a value for the [path]!"`. Означает, что вы забыли указать аргумент [path] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/get-files.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер.

--------------------------------------------------

###### create-directory.php

_Позволяет создавать директории на хостинге._

__Список аргументов:__

1. __login__ - _Полученный логин пользователя (см. register-host.php);_
2. __password__ - _Полученный пароль пользователя (см. register-host.php);_
3. __path__ - _Путь к директории относительно директории пользователя, "." и ".." не поддерживаются._

__Ответы сервера:__

1. JSON: `[status] => 0, [message] => "ok"`. Означает, что директория успешно создана;

2. JSON: `[status] => 1, [message] => "You forgot to set a value for the [login]!"`. Означает, что вы забыли указать аргумент [login] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/create-directory.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер;

3. JSON: `[status] => 2, [message] => "You forgot to set a value for the [password]!"`. Означает, что вы забыли указать аргумент [password] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/create-directory.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер;

4. JSON: `[status] => 3, [message]" => "Anon not found."`. Означает, что файл содержащий информацию об аноне не был найден. Другими словами - логин и пароль неверны, либо анон был удален в связи с истёкшим сроком хостинга;

5. JSON: `[status] => 4, [message]" => "The data is corrupted. Please register new hosting."`. Означает, что файл содержащий информацию об аноне был найден, но информация в нём повреждена или имеет неверный формат. Возможно, это связано с частичной утерей данных на сервере или обновлением API, в связи с которым был введён новый формат хранения информации об аноне. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

6. JSON: `[status] => 5, [message]" => "Wrong login or password."`. Означает, что указанный вами логин или пароль не соответствует обнаруженному в файле;

7. JSON: `[status] => 6, [message]" => "Hosting data is out of date. Please register new hosting"`. Означает, что файл содержащий информацию об аноне был найден, но срок действия хостинга уже истёк и все данные на нём скоро будут удалены. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

8. JSON: `[status] => 7, [message] => "You forgot to set a value for the [path]!"`. Означает, что вы забыли указать аргумент [path] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/create-directory.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер;

9. JSON: `[status] => 8, [message] => "Failed to create directory due error."`. Означает, что серверу не удалось создать директорию из-за внутренней ошибки. Возможно, директория с таким именем уже существует или указан неверный путь.

--------------------------------------------------

###### upload.php

_Позволяет загружать файлы на хостинг._

__Список аргументов:__

1. __login__ - _Полученный логин пользователя (см. register-host.php);_
2. __password__ - _Полученный пароль пользователя (см. register-host.php);_
3. __path__ - _Путь к директории относительно директории пользователя, "." и ".." не поддерживаются;_
4. __count__ - _Количество загружаемых файлов;_
5. __POST["file-{x}"]__ - _Загружаемые файлы._

Загружаемые файлы должны передаваться в виде POST-запроса на сервер. Название аргумента содержащего файл в POST-запросе должно иметь вид _"file-{x}"_, где _"{x}"_ - номер (индекс) файла __(Внимание: Все индексы всегда начинаются с 0!)__.

Вот пример такого запроса:

>POST-запрос на: _"https://api.anonhost.ga/upload.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/&count=5"_, где __[ЛОГИН]__ логин пользователя, а __[ПАРОЛЬ]__ - пароль пользователя.
>
> Данные POST-запроса:
>
> __[file-0]__ - 1 файл
>
> __[file-1]__ - 2 файл
>
> __[file-2]__ - 3 файл
>
> __[file-3]__ - 4 файл
>
> __[file-4]__ - 5 файл

__Ответы сервера:__

1. JSON: `[status] => 0, [message] => "ok", [upload] => [ФАЙЛЫ]`, где __[ФАЙЛЫ]__ - массив из ответов загрузчика файлов _(см. "Ответы загрузчика файлов")_. Означает, что все файлы были успешно переданы загрузчику (чтобы проверить, были загружены файлы или нет, используйте полученный массив __[upload]__, содержащий ответы загрузчика);

2. JSON: `[status] => 1, [message] => "You forgot to set a value for the [login]!"`. Означает, что вы забыли указать аргумент [login] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/upload.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/&count=5>"_ чтобы указать аргументы [login], [password], [path] и [count] при GET запросе на сервер;

3. JSON: `[status] => 2, [message] => "You forgot to set a value for the [password]!"`. Означает, что вы забыли указать аргумент [password] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/upload.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/&count=5>"_ чтобы указать аргументы [login], [password], [path] и [count] при GET запросе на сервер;

4. JSON: `[status] => 3, [message]" => "Anon not found."`. Означает, что файл содержащий информацию об аноне не был найден. Другими словами - логин и пароль неверны, либо анон был удален в связи с истёкшим сроком хостинга;

5. JSON: `[status] => 4, [message]" => "The data is corrupted. Please register new hosting."`. Означает, что файл содержащий информацию об аноне был найден, но информация в нём повреждена или имеет неверный формат. Возможно, это связано с частичной утерей данных на сервере или обновлением API, в связи с которым был введён новый формат хранения информации об аноне. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

6. JSON: `[status] => 5, [message]" => "Wrong login or password."`. Означает, что указанный вами логин или пароль не соответствует обнаруженному в файле;

7. JSON: `[status] => 6, [message]" => "Hosting data is out of date. Please register new hosting"`. Означает, что файл содержащий информацию об аноне был найден, но срок действия хостинга уже истёк и все данные на нём скоро будут удалены. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

8. JSON: `[status] => 7, [message] => "You forgot to set a value for the [path]!"`. Означает, что вы забыли указать аргумент [count] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/upload.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/&count=5>"_ чтобы указать аргументы [login], [password], [path] и [count] при GET запросе на сервер;

9. JSON: `[status] => 8, [message] => "You forgot to set a value for the [count]!"`. Означает, что вы забыли указать аргумент [count] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/upload.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/&count=5>"_ чтобы указать аргументы [login], [password], [path] и [count] при GET запросе на сервер.

__Ответы загрузчика файлов:__

1. JSON: `[status] => 0, [message] => "File [ФАЙЛ] successfully uploaded!", [id] => [НОМЕР], [filename] => [ФАЙЛ]`, где __[ФАЙЛ]__ - имя файла, а __[НОМЕР]__ - номер файла, с которым он был загружен на сервер. Означает, что файл был успешно загружен на сервер.

2. JSON: `[status] => 1, [message] => "File [ФАЙЛ] already exists and has been renamed to [ВРЕМЕН]!", [id] => [НОМЕР], [filename] => [ФАЙЛ]`, где __[ФАЙЛ]__ - имя файла, __[ВРЕМЕН]__ - временное имя файла, а __[НОМЕР]__ - номер файла, с которым он был загружен на сервер. Означает, что файл с таким именем уже существует, поэтому файл __[ФАЙЛ]__ был переименован в __[ВРЕМЕН]__.

3. JSON: `[status] => 0, [message] => "File [ФАЙЛ] already exists and failed to upload due error.", [id] => [НОМЕР], [filename] => [ФАЙЛ]`, где __[ФАЙЛ]__ - имя файла, а __[НОМЕР]__ - номер файла, с которым он был загружен на сервер. Означает, что файл а таким именем уже существует и был переименован, но загрузить на сервер его не удалось.

4. JSON: `[status] => 3, [message] => "File [ФАЙЛ] is too large!", [id] => [НОМЕР], [filename] => [ФАЙЛ]`, где __[ФАЙЛ]__ - имя файла, а __[НОМЕР]__ - номер файла, с которым он был загружен на сервер. Означает, что файл не был загружен на сервер, так как имеет слишком большой размер.

5. JSON: `[status] => 4, [message] => "File [ФАЙЛ] failed to upload due error.", [id] => [НОМЕР], [filename] => [ФАЙЛ]`, где __[ФАЙЛ]__ - имя файла, а __[НОМЕР]__ - номер файла, с которым он был загружен на сервер. Означает, что файл не был загружен из-за возникшей ошибки.

--------------------------------------------------

###### rename.php

_Позволяет переименовывать и перемещать файлы/директории на хостинге._

__Список аргументов:__

1. __login__ - _Полученный логин пользователя (см. register-host.php);_
2. __password__ - _Полученный пароль пользователя (см. register-host.php);_
3. __from__ - _Исходный путь к файлу/директории, "." и ".." не поддерживаются;_
4. __to__ - _Новый путь к файлу/директории, "." и ".." не поддерживаются._

__Ответы сервера:__

1. JSON: `[status] => 0, [message] => "ok"`. Означает, что файл/директория успешно переименован/перемещен;

2. JSON: `[status] => 1, [message] => "You forgot to set a value for the [login]!"`. Означает, что вы забыли указать аргумент [login] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/rename.php?login=ЛОГИН&password=ПАРОЛЬ&from=/oldpath/&to=/newpath/>"_ чтобы указать аргументы [login], [password], [from] и [to] при GET запросе на сервер;

3. JSON: `[status] => 2, [message] => "You forgot to set a value for the [password]!"`. Означает, что вы забыли указать аргумент [password] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/rename.php?login=ЛОГИН&password=ПАРОЛЬ&from=/oldpath/&to=/newpath/>"_ чтобы указать аргументы [login], [password], [from] и [to] при GET запросе на сервер;

4. JSON: `[status] => 3, [message]" => "Anon not found."`. Означает, что файл содержащий информацию об аноне не был найден. Другими словами - логин и пароль неверны, либо анон был удален в связи с истёкшим сроком хостинга;

5. JSON: `[status] => 4, [message]" => "The data is corrupted. Please register new hosting."`. Означает, что файл содержащий информацию об аноне был найден, но информация в нём повреждена или имеет неверный формат. Возможно, это связано с частичной утерей данных на сервере или обновлением API, в связи с которым был введён новый формат хранения информации об аноне. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

6. JSON: `[status] => 5, [message]" => "Wrong login or password."`. Означает, что указанный вами логин или пароль не соответствует обнаруженному в файле;

7. JSON: `[status] => 6, [message]" => "Hosting data is out of date. Please register new hosting"`. Означает, что файл содержащий информацию об аноне был найден, но срок действия хостинга уже истёк и все данные на нём скоро будут удалены. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

8. JSON: `[status] => 7, [message] => "You forgot to set a value for the [from]!"`. Означает, что вы забыли указать аргумент [from] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/rename.php?login=ЛОГИН&password=ПАРОЛЬ&from=/oldpath/&to=/newpath/>"_ чтобы указать аргументы [login], [password], [from] и [to] при GET запросе на сервер;

9. JSON: `[status] => 8, [message] => "You forgot to set a value for the [to]!"`. Означает, что вы забыли указать аргумент [to] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/rename.php?login=ЛОГИН&password=ПАРОЛЬ&from=/oldpath/&to=/newpath/>"_ чтобы указать аргументы [login], [password], [from] и [to] при GET запросе на сервер;

10. JSON: `[status] => 9, [message] => "Failed to rename due error."`. Означает, что серверу не удалось переименовать/переместить файл/директорию в связи с внутренней ошибкой. Возможно, файл/директория с таким именем уже существует.

--------------------------------------------------

###### remove.php

_Позволяет удалять файлы/директории на хостинге._

__Список аргументов:__

1. __login__ - _Полученный логин пользователя (см. register-host.php);_
2. __password__ - _Полученный пароль пользователя (см. register-host.php);_
3. __path__ - _Путь к директории относительно директории пользователя, "." и ".." не поддерживаются._

__Ответы сервера:__

1. JSON: `[status] => 0, [message] => "ok"`. Означает, что файл/директория успешно удалена;

2. JSON: `[status] => 1, [message] => "You forgot to set a value for the [login]!"`. Означает, что вы забыли указать аргумент [login] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/remove.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер;

3. JSON: `[status] => 2, [message] => "You forgot to set a value for the [password]!"`. Означает, что вы забыли указать аргумент [password] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/remove.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер;

4. JSON: `[status] => 3, [message]" => "Anon not found."`. Означает, что файл содержащий информацию об аноне не был найден. Другими словами - логин и пароль неверны, либо анон был удален в связи с истёкшим сроком хостинга;

5. JSON: `[status] => 4, [message]" => "The data is corrupted. Please register new hosting."`. Означает, что файл содержащий информацию об аноне был найден, но информация в нём повреждена или имеет неверный формат. Возможно, это связано с частичной утерей данных на сервере или обновлением API, в связи с которым был введён новый формат хранения информации об аноне. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

6. JSON: `[status] => 5, [message]" => "Wrong login or password."`. Означает, что указанный вами логин или пароль не соответствует обнаруженному в файле;

7. JSON: `[status] => 6, [message]" => "Hosting data is out of date. Please register new hosting"`. Означает, что файл содержащий информацию об аноне был найден, но срок действия хостинга уже истёк и все данные на нём скоро будут удалены. В таком случаи, пожалуйста, зарегистрируйте новый хостинг;

8. JSON: `[status] => 7, [message] => "You forgot to set a value for the [path]!"`. Означает, что вы забыли указать аргумент [path] в вашем GET или POST запросе. Используйте нечто на подобии _"<https://api.anonhost.ga/remove.php?login=ЛОГИН&password=ПАРОЛЬ&path=/somepath/>"_ чтобы указать аргументы [login], [password] и [path] при GET запросе на сервер;

9. JSON: `[status] => 8, [message] => "Failed to remove due error."`. Означает, что серверу не удалось удалить файл/директорию из-за внутренней ошибки. Возможно файл/директория уже была удалена ранее или указан неверный путь.

--------------------------------------------------

##### Дополнительно

###### functions.php

_Данная функция содержит общие для всех скриптов функции, такие как check-host, clear и removeDirectory._

###### php.ini

_Разрешает загрузку файлов на сервер и ограничивает размер файла до 4 гигабайт._

###### robots.txt

_Запрещает индексацию для api.anonhost.ga._

##### Хранение данных

В отличие от большинства других сервисов AnonHost.ga не использует базы данных MySQL, PostgreSQL, MongoDB и другие. Вместо них AnonHost.ga использует файлы в формате json, находящееся на _<https://api.anonhost.ga/anons/>_.

Чтобы получить файл, содержащий логин, пароль и время окончания действия хостинга скрипт _(functions.php)_ получает файл anons/ЛОГИН ПОЛЬЗОВАТЕЛЯ, после чего просто использует функцию json_encode, встроенную в PHP, чтобы получить данные.

##### Взаимодействие с API в AnonHost

Взаимодействие с AnonHost API происходит через JavaScript по принципу __GET__ и __POST__ запросов с помощью _XMLHttpRequest_, встроенного в JavaScript.

Для сохранения данных и передачи их от главной страницы к панели управления используется _sessionStorage_, также встроенный в JavaScript.

Вот пример такого взаимодействия:

###### _(функция registerHost, скрипт popup-window.js, строка 122)_

```js
    var request = new XMLHttpRequest();
    request.open("GET", "https://api.anonhost.ga/register-host.php?time=" + time);
    request.responseType = "json";

    request.onload = function() {
        console.log("Register Host:", request.response);
        let info = request.response;

        if(info.status == 0) {
            sessionStorage.setItem("login", info.login);
            sessionStorage.setItem("password", info.password);
            sessionStorage.setItem("time", info.time);
            sessionStorage.setItem("currectTime", info.currectTime);

            window.location = "./panel";
        } else {
            alert(`Error on registering host [${info.status}]: ${info.message}`);
        }
    }

    request.onerror = function(message) {
        alert(`Error on registering host [unknown error]: ${message}`);
    }

    request.send();
```

#### Содержимое st.anonhost.ga

> st.anonhost.ga из исходного кода имеет только _robots.txt_ и _.htaccess_ и из-за этого не получил отдельного репозитория. По этой причине расписываю его содержимое здесь:

Кроме пользовательских файлов, __st.anonhost.ga__ содержит еще 2 файла: _.htaccess_ и _robots.txt_.

_.htaccess_ убирает индексные файлы и не позволяет хостингу отображать файлы пользователей и содержимое директорий. Имеет следующее содержимое:

```htaccess
Options -Indexes
```

_robots.txt_ не позволяет роботам-индексаторам поисковых систем индексировать какие-либо пользовательские файлы для поисковых систем. Имеет следующее содержимое:

```txt
User-agent: *
Disallow: /
```
